---
title: '2022-02-15'
date: '2022-02-15'
tags: ['journal']
draft: false
layout: PostSimple
---

今日は金山まで髪を切りに行った。昼はサイゼリヤでナスのパスタのランチを食べた。特に感想はない。

MacBook Air を買ってから全然外に出ていなかったので、今日は持ち出してみた。やっぱり 15 インチ MacBook Pro と比べると、取り出す際の気安さが大違いだ。Air なら「これはモバイル端末だ」と胸を張って言える。サイゼの 2 人用の小さなテーブルに置いても窮屈じゃない。演算性能も俺の用途ならとりあえず問題ないし、かなり完璧な買い物をしたと言っていい。

---

Reaktr のキャプチャー後の原状復帰が上手くいっていない問題に 2,3 時間くらい悩んでいたけど、原因を特定することができた。コマ撮りを実現するために `requestAnimationFrame` を乗っ取ってアプリ内のキューにコールバック関数を突っ込むようにしているが、キャプチャを終了したときにそれらを全て消化していないことが原因だった。すべてのユースケースで必要になる処理ではないけど、react-three-fiber の `useFrame` を使う場合はちゃんと呼び出しておかないと、以降のアニメーションが止まってしまうらしい。偶然に余計なコールバックが入っていない状態でキャプチャを終了したときは再現しなかったり、わかりにくいバグだったのでつらかった。とりあえずこれはスッキリと解決して、動画の処理の実装に移りたい。

![スクリーンショット](/static/images/2022-02-15/screenshot.png)

アクセス数はこんな感じで推移している。リファラーも増えてきているし、グーグル検索からも少しずつ流入している。指名検索以外でも表示されるようになればアクセス数は伸びてくれるはずなので、Google に期待したい。
