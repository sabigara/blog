---
title: "今日はReaktrを紹介してくれているメディアをいくつも見つけた。webrazzi"
date: "2022-02-14"
tags: ["journal"]
draft: false
---

- [Ses dosyaları için kişiselleştirilmiş videolar oluşturmaya yardımcı olan ücretsiz platform: Reaktr](https://webrazzi.com/2022/02/14/ses-dosyalari-icin-kisisellestirilmis-videolar-olusturmaya-yardimci-olan-ucretsiz-platform-reaktr)
- [Free platform that helps create personalized videos for audio files: Reaktr](https://nitekim.com/free-platform-that-helps-create-personalized-videos-for-audio-files-reaktr/)
- [Reaktr: crea gratis bonitos vídeos de visualización de audio](https://www.softandapps.info/2022/02/07/reaktr-crea-gratis-bonitos-videos-de-visualizacion-de-audio/?utm_source=twitter&utm_medium=bloguersnet)
- [カッコいいオリジナル PV 動画が作れるを作成できる Web サービス 『Reaktr』 | PC あれこれ探索](https://pc.mogeringo.com/archives/90193)

https://tailwindcss.com/docs/object-fit

今日はReaktrを紹介してくれているメディアをいくつも見つけた。webrazzi はトルコのメディアで、月間 100 万 PV くらいはあるらしく、ぼちぼちのトラフィックを送ってくれている。巨大なサイトでバズるのもうれしいだろうけど、小さいブログとかで草の根的に広まっていく方が健全というかサスティナブルな気もする。gmail.com や telegram からの流入がそれなりにあるのはいい兆候ではないだろうか。substack のニュースレターからの流入も発見したので、もしかしたらそれかもしれないけど。

コマ撮り機能はかなり完成に近づいている。`OfflineAudioContext` で曲全体の FFT 解析を済ませてメモリに格納しておき、再生時間に応じて取り出すことでスムーズに動いた。回転の角度も絶対時間を基準に動かすようにした。あとは背景動画も同じような処理をする必要がある。

ただ上のパラグラフを書いた後に実装をしていたら、キャプチャーの実行後の復帰や、再キャプチャー時に変なことが起こっていた。`Capturer` インスタンスとその状態を適切に処理しないと、クラス内部でやっている黒魔術を消し去ることができない。UI スレッドを占領してしまったりメモリリークを起こしがちなのでやっぱり面倒ではある。 わかりにくいエラーなのでイラつきがちだが、感情はうまく整理して乗り越えたい。

https://www.creativebrew.io/

いまアナリティクスを見たら、このサイトからの流入が始まっていた。トルコやロシア語のなんて書いてあるか分からないメディアよりも、どうしても英語のサイトから反応をもらうほうがうれしく感じてしまう。差別的かもしれないが・・・。

```typescript
;<group ref={group}>
  {Array.from(Array(BAR_COUNT)).map((_, i) => {
    const degree = (360 / BAR_COUNT) * i + 90
    const x = INNER_RADIUS * Math.cos(degree * (Math.PI / 180))
    const y = INNER_RADIUS * Math.sin(degree * (Math.PI / 180))
    return (
      <Box
        key={i}
        args={[0.5, 0.4, 0.1]}
        position={[x, y, 0]}
        rotation={[0, 0, (Math.PI / (360 / degree)) * 2]}
      >
        <meshStandardMaterial attach="material" color={getColor(i)} />
      </Box>
    )
  })}
</group>
```

```typescript
useFrame(() => {
  const dataArray = audio.getByteFrequencyData()
  const avgFreqData = new Uint8Array(BAR_COUNT)
  for (let i = 0; i < BAR_COUNT; i++) {
    let sum = 0
    const offset = FREQ_OFFSET + i * FREQ_STEP
    for (let j = offset; j < offset + FREQ_STEP; j++) {
      sum += dataArray[j]
    }
    avgFreqData[i] = sum / FREQ_STEP
  }
  group.current.children.forEach((mesh, i) => {
    if (!(mesh instanceof THREE.Mesh)) {
      return
    }
    const data = avgFreqData[i]
    const scale = Math.max(1, toScale(data))
    mesh.scale.setX(scale)
  })
})

const toScale = (num: number) => num ** 4 * 0.000000004
```

```typescript
async function getThreadTweets(statusId: string) {
  const tweetRes = await twitter.singleTweet(statusId, {
    "tweet.fields": "author_id,conversation_id",
  })
  const searchRes = await twitter.search(
    `conversation_id:${tweetRes.data.conversation_id} from:${tweetRes.data.author_id} to:${tweetRes.data.author_id}`
  )
}
```

```typescript
interface Props {
  totalPages: number
  currentPage: number
}

export default function Pagination({ totalPages, currentPage }: Props) {
  const prevPage = currentPage - 1 > 0
  const nextPage = currentPage + 1 <= totalPages

  return (
    <div className="space-y-2 pt-6 pb-8 md:space-y-5">
      <nav className="flex items-center justify-between">
        {!prevPage && (
          <button className="cursor-auto text-2xl disabled:opacity-30" disabled={!prevPage}>
            &larr;
          </button>
        )}
        {prevPage && (
          <Link href={currentPage - 1 === 1 ? `/blog/` : `/blog/page/${currentPage - 1}`}>
            <button className="text-2xl">&larr;</button>
          </Link>
        )}
        <span className="font-medium text-gray-500">
          {currentPage} / {totalPages}
        </span>
        {!nextPage && (
          <button className="cursor-auto text-2xl disabled:opacity-30" disabled={!nextPage}>
            &rarr;
          </button>
        )}
        {nextPage && (
          <Link href={`/blog/page/${currentPage + 1}`}>
            <button className="text-2xl">&rarr;</button>
          </Link>
        )}
      </nav>
    </div>
  )
}
```
